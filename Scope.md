# NPM åŒ…ç±»å‹ï¼šéä½œç”¨åŸŸåŒ… vs ä½œç”¨åŸŸåŒ…

## ğŸ“¦ éä½œç”¨åŸŸåŒ… (Unscoped Package)

### ç‰¹ç‚¹

- **å‘½åæ ¼å¼**ï¼š`mypackage`
- **å‘½åç©ºé—´**ï¼šå…¨å±€å”¯ä¸€çš„åŒ…å
- **æ˜“å†²çª**ï¼šå¦‚æœåŒ…åå·²è¢«ä½¿ç”¨ï¼Œåˆ™æ— æ³•åˆ›å»ºåŒååŒ…

### ç¤ºä¾‹

```json
{
  "name": "my-awesome-library"
}
```

### å‘å¸ƒå‘½ä»¤

```bash
npm publish
```

### é€‚ç”¨åœºæ™¯

- ä¸ªäººé¡¹ç›®
- ç‹¬ç«‹çš„å·¥å…·åº“
- åŒ…åå”¯ä¸€ä¸”ä¸ä¼šé‡å¤

### å¸¸è§åŒ…

- `lodash`
- `react`
- `axios`
- `express`

---

## ğŸ¢ ä½œç”¨åŸŸåŒ… (Scoped Package)

### ç‰¹ç‚¹

- **å‘½åæ ¼å¼**ï¼š`@org/package` æˆ– `@username/package`
- **å‘½åç©ºé—´**ï¼šå½’å±ç‰¹å®šç»„ç»‡æˆ–ç”¨æˆ·ï¼Œ@org ä¸‹çš„åŒ…åå¯é‡å¤
- **ä¸å†²çª**ï¼šä¸åŒç»„ç»‡å¯ä»¥ä½¿ç”¨ç›¸åŒçš„åŒ…å
- **æ”¯æŒç§æœ‰/å…¬å¼€**ï¼šå¯å‘å¸ƒç§æœ‰åŒ…ï¼ˆä»˜è´¹åŠŸèƒ½ï¼‰

### ç¤ºä¾‹

```json
{
  "name": "@mycompany/component-library"
}
```

### å‘å¸ƒå‘½ä»¤

```bash
# å…¬å¼€ä½œç”¨åŸŸåŒ…
npm publish --access public

# ç§æœ‰ä½œç”¨åŸŸåŒ…ï¼ˆéœ€è¦ä»˜è´¹è´¦æˆ·ï¼‰
npm publish --access restricted
```

### é€‚ç”¨åœºæ™¯

- ä¼ä¸š/ç»„ç»‡é¡¹ç›®
- éœ€è¦é¿å…å‘½åå†²çª
- ç§æœ‰åŒ…ç®¡ç†
- å¤šåŒ…ç®¡ç†

### å¸¸è§åŒ…

- `@babel/core`
- `@vue/compiler-sfc`
- `@types/node`
- `@microsoft/api-extractor`

---

## âš–ï¸ å¯¹æ¯”æ€»ç»“

| ç‰¹æ€§             | éä½œç”¨åŸŸåŒ…                    | ä½œç”¨åŸŸåŒ…                                                          |
| ---------------- | ----------------------------- | ----------------------------------------------------------------- |
| **åŒ…åæ ¼å¼**     | `package-name`                | `@org/package-name`                                               |
| **å‘½åç©ºé—´**     | å…¨å±€å”¯ä¸€                      | ç»„ç»‡/ç”¨æˆ·å†…éƒ¨å”¯ä¸€                                                 |
| **å†²çªé£é™©**     | é«˜                            | ä½                                                                |
| **å‘å¸ƒæƒé™**     | ä»»ä½•äººéƒ½å¯å‘å¸ƒ                | éœ€è¦ç»„ç»‡æƒé™                                                      |
| **ç§æœ‰åŒ…**       | âŒ ä¸æ”¯æŒ                     | âœ… æ”¯æŒï¼ˆä»˜è´¹ï¼‰                                                   |
| **å‘å¸ƒå‘½ä»¤**     | `npm publish`                 | `npm publish --access public` / `npm publish --access restricted` |
| **private å±æ€§** | ä¸å¯å‘å¸ƒä¸ºç§æœ‰                | âœ… å¯ä»¥è®¾ç½®ç§æœ‰                                                   |
| **å®‰è£…æ–¹å¼**     | `npm install package`         | `npm install @org/package`                                        |
| **ä½¿ç”¨ç¤ºä¾‹**     | `import lodash from 'lodash'` | `import component from '@org/component'`                          |

---

## ğŸ’¡ æ¨è

### é€‰æ‹©éä½œç”¨åŸŸåŒ…ï¼Œå¦‚æœï¼š

- âœ… ä½ çš„åŒ…åæ˜¯å”¯ä¸€çš„
- âœ… é¡¹ç›®æ˜¯å¼€æºä¸”å®Œå…¨ç‹¬ç«‹çš„
- âœ… ä¸æƒ³ç»™åŒ…åæ·»åŠ å‰ç¼€

### é€‰æ‹©ä½œç”¨åŸŸåŒ…ï¼Œå¦‚æœï¼š

- âœ… å±äºæŸä¸ªç»„ç»‡
- âœ… éœ€è¦å‘å¸ƒå¤šä¸ªç›¸å…³åŒ…
- âœ… éœ€è¦ç§æœ‰åŒ…åŠŸèƒ½
- âœ… æƒ³è¦é¿å…å‘½åå†²çª
- âœ… ä¼ä¸šçº§é¡¹ç›®

---

## ğŸ“ å¿«é€Ÿä½¿ç”¨

### åˆ›å»ºä½œç”¨åŸŸåŒ…

```bash
# 1. åˆå§‹åŒ–é¡¹ç›®
npm init

# 2. package.json ä¸­è®¾ç½®
{
  "name": "@yourname/your-package"
}

# 3. å‘å¸ƒ
npm publish --access public
```

### å®‰è£…ä½œç”¨åŸŸåŒ…

```bash
npm install @org/package-name
```

### åœ¨ä»£ç ä¸­ä½¿ç”¨

```typescript
// ES Modules
import { someFunc } from '@org/package-name'

// CommonJS
const { someFunc } = require('@org/package-name')
```

---

## ğŸ”’ private å±æ€§è¯¦è§£

### éä½œç”¨åŸŸåŒ…

éä½œç”¨åŸŸåŒ…**ä¸æ”¯æŒ**ç§æœ‰å‘å¸ƒï¼Œå³ä½¿è®¾ç½® `private: true` ä¹Ÿä¸ä¼šå‘å¸ƒåˆ° NPMã€‚

```json
{
  "name": "my-package",
  "private": true
}
```

âš ï¸ è®¾ç½®äº† `private: true` çš„éä½œç”¨åŸŸåŒ…ä¸ä¼šå‘å¸ƒï¼Œä»…ç”¨äºæœ¬åœ°å¼€å‘ã€‚

### ä½œç”¨åŸŸåŒ…

ä½œç”¨åŸŸåŒ…**å¯ä»¥**é€šè¿‡ `private: true` æˆ– `--access restricted` å‘å¸ƒä¸ºç§æœ‰åŒ…ã€‚

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ package.json

```json
{
  "name": "@myorg/private-package",
  "private": true,
  "publishConfig": {
    "access": "restricted"
  }
}
```

#### æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œ

```bash
npm publish --access restricted
```

#### ç§æœ‰åŒ…ç‰¹ç‚¹

- **ä»˜è´¹åŠŸèƒ½**ï¼šéœ€è¦ä»˜è´¹ NPM è´¦æˆ·
- **æƒé™æ§åˆ¶**ï¼šåªæœ‰æˆæƒç”¨æˆ·å¯ä»¥å®‰è£…
- **ä¸å…¬å¼€**ï¼šä¸ä¼šåœ¨ NPM æœç´¢ç»“æœä¸­æ˜¾ç¤º
- **å®‰è£…æ–¹å¼**ï¼šä»ä½¿ç”¨ `npm install @org/package`
- **è®¤è¯æ–¹å¼**ï¼šéœ€è¦ç™»å½•å…·æœ‰æƒé™çš„è´¦æˆ·

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### å‘å¸ƒå‘½ä»¤åŒºåˆ«

| åŒ…ç±»å‹            | å‘å¸ƒå‘½ä»¤                          | è¯´æ˜             |
| ----------------- | --------------------------------- | ---------------- |
| **éä½œç”¨åŸŸåŒ…**    | `npm publish`                     | ç›´æ¥å‘å¸ƒä¸ºå…¬å¼€åŒ… |
| **ä½œç”¨åŸŸåŒ…-å…¬å¼€** | `npm publish --access public`     | æ˜¾å¼æŒ‡å®šå…¬å¼€å‘å¸ƒ |
| **ä½œç”¨åŸŸåŒ…-ç§æœ‰** | `npm publish --access restricted` | éœ€è¦ä»˜è´¹è´¦æˆ·     |

### å…¶ä»–é‡è¦äº‹é¡¹

1. **è´¦æˆ·è¦æ±‚**ï¼šå‘å¸ƒä½œç”¨åŸŸåŒ…éœ€è¦æ³¨å†Œ NPM è´¦æˆ·ï¼ˆå…è´¹ï¼‰
2. **è®¿é—®æƒé™**ï¼šé»˜è®¤å‘å¸ƒä¸ºå…¬å¼€åŒ…ï¼Œä½¿ç”¨ `--access public` æ˜¾å¼æŒ‡å®š
3. **ç§æœ‰åŒ…**ï¼šéœ€è¦ä»˜è´¹è´¦æˆ·æ‰èƒ½å‘å¸ƒç§æœ‰ä½œç”¨åŸŸåŒ…
4. **ç‰ˆæœ¬ç®¡ç†**ï¼šä½œç”¨åŸŸåŒ…ä¹Ÿå¯ä»¥ä½¿ç”¨ `npm version` è¿›è¡Œç‰ˆæœ¬ç®¡ç†
5. **Scopes é™åˆ¶**ï¼šå…è´¹è´¦æˆ·æœ€å¤šå¯ä»¥åˆ›å»º 500 ä¸ªå…¬å¼€ä½œç”¨åŸŸåŒ…
6. **private å±æ€§**ï¼šä»…ä½œç”¨åŸŸåŒ…æ”¯æŒç§æœ‰å‘å¸ƒï¼Œéä½œç”¨åŸŸåŒ…ä¸æ”¯æŒ
